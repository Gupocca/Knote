$(document).ready(function(){$("#render").click(function(){$("#output").html(e)});var n=function(n){return"<strong>"+n+"</strong>"},r=function(n){return"<em>"+n+"</em>"},t=function(n,r,t){return r>=0&&r<n.length&&n.charAt(r)==t},e=function(){for(var e=$("#input").val(),u=-1,c=-1,i=!1,o=!1,f="";-1!=(u=e.indexOf("$",u+1));)if(!t(e,u-1,"\\")){var a=!1;t(e,u+1,"$")&&(a=o||!t(e,u+2,"$")||u+1==e.length-1);var l=e.slice(c+1,u);i?(f+=n(l),i=!1):o?(f+=r(l),o=!1):(f+=l,a?o=!0:i=!0),a&&u++,c=u}var l=e.slice(c+1);return f+=i?n(l):o?r(l):l}});