$(document).ready(function(){$("#render").click(function(){$("#output").html(e)});var n=function(n){return"<strong>"+n+"</strong>"},t=function(n){return"<em>"+n+"</em>"},r=function(n,t,r){return t>=0&&t<n.length&&n.charAt(t)==r},e=function(){for(var e=$("#input").val(),i=-1,u=-1,c=!1,o=!1,f="";-1!=(i=e.indexOf("$",i+1));)if(!r(e,i-1,"\\")){var a=!1;r(e,i+1,"$")&&(a=o||!r(e,i+2,"$")||i+1==e.length-1);var l=e.slice(u+1,i);c?(f+=n(l),c=!1):o?(f+=t(l),o=!1):(f+=l,a?o=!0:c=!0),a&&i++,u=i}var l=e.slice(u+1);return f+=c?n(l):o?t(l):l,f.split("\\$").join("$")}});